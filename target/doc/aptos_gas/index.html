<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This crate is the core of the gas metering system of the Aptos blockchain."><meta name="keywords" content="rust, rustlang, rust-lang, aptos_gas"><title>aptos_gas - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="../crates.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../aptos_gas/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../aptos_gas/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Crate aptos_gas</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 0.1.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul></div><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../aptos_gas/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><div id="settings-menu" tabindex="-1">
                                <a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div>
                        </div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">aptos_gas</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/aptos_gas/lib.rs.html#4-48">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This crate is the core of the gas metering system of the Aptos blockchain.</p>
<p>More specifically, it</p>
<ul>
<li>Is home to the gas meter implementation</li>
<li>Defines the gas parameters and formulae for instructions</li>
<li>Defines the gas parameters for transactions</li>
<li>Sets the initial values for all gas parameters, including the instruction, transaction
move-stdlib and aptos-framework ones.</li>
<li>Defines a bi-directional mapping between the (Rust) gas parameter structs and their
corresponding representation on-chain.</li>
</ul>
<p>The reason why we need two different representations is that they serve different purposes:</p>
<ul>
<li>The Rust structs are used for quick (static) lookups by the gas meter and native functions
when calculating gas costs.</li>
<li>The on-chain gas schedule needs to be extensible and unordered so we can upgrate it easily
in the future.</li>
</ul>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="gen/index.html" title="aptos_gas::gen mod">gen</a></div><div class="item-right docblock-short"></div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AbstractValueSizeGasParameters.html" title="aptos_gas::AbstractValueSizeGasParameters struct">AbstractValueSizeGasParameters</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AptosGasMeter.html" title="aptos_gas::AptosGasMeter struct">AptosGasMeter</a></div><div class="item-right docblock-short"><p>The official gas meter used inside the Aptos VM.
It maintains an internal gas counter, measured in internal gas units, and carries an environment
consisting all the gas parameters, which it can lookup when performing gas calculations.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AptosGasParameters.html" title="aptos_gas::AptosGasParameters struct">AptosGasParameters</a></div><div class="item-right docblock-short"><p>Gas parameters for everything that is needed to run the Aptos blockchain, including
instructions, transactions and native functions from various packages.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.GasQuantity.html" title="aptos_gas::GasQuantity struct">GasQuantity</a></div><div class="item-right docblock-short"><p>An opaque representation of a certain quantity, with the unit being encoded in the type.
This type implements checked addition and subtraction, and only permits type-safe multiplication.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.InstructionGasParameters.html" title="aptos_gas::InstructionGasParameters struct">InstructionGasParameters</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MiscGasParameters.html" title="aptos_gas::MiscGasParameters struct">MiscGasParameters</a></div><div class="item-right docblock-short"><p>Miscellaneous gas parameters.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.NativeGasParameters.html" title="aptos_gas::NativeGasParameters struct">NativeGasParameters</a></div><div class="item-right docblock-short"><p>Gas parameters for all native functions.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StorageGasParameters.html" title="aptos_gas::StorageGasParameters struct">StorageGasParameters</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TransactionGasParameters.html" title="aptos_gas::TransactionGasParameters struct">TransactionGasParameters</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.UnitDiv.html" title="aptos_gas::UnitDiv struct">UnitDiv</a></div><div class="item-right docblock-short"><p>A derived unit resulted from the division of two given units.
This is used to permit type-safe multiplications.</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.AbstractValueUnit.html" title="aptos_gas::AbstractValueUnit enum">AbstractValueUnit</a></div><div class="item-right docblock-short"><p>Unit of abstract value size – a conceptual measurement of the memory space a Move value occupies.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Arg.html" title="aptos_gas::Arg enum">Arg</a></div><div class="item-right docblock-short"><p>Unit for counting arguments.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Byte.html" title="aptos_gas::Byte enum">Byte</a></div><div class="item-right docblock-short"><p>Unit for counting bytes.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.GasUnit.html" title="aptos_gas::GasUnit enum">GasUnit</a></div><div class="item-right docblock-short"><p>Unit of (external) gas.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.InternalGasUnit.html" title="aptos_gas::InternalGasUnit enum">InternalGasUnit</a></div><div class="item-right docblock-short"><p>Unit of internal gas.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Octa.html" title="aptos_gas::Octa enum">Octa</a></div><div class="item-right docblock-short"><p>Unit of gas currency. 1 Octa = 10^-8 Aptos coins.</p>
</div></div></div><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.LATEST_GAS_FEATURE_VERSION.html" title="aptos_gas::LATEST_GAS_FEATURE_VERSION constant">LATEST_GAS_FEATURE_VERSION</a></div><div class="item-right docblock-short"></div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.FromOnChainGasSchedule.html" title="aptos_gas::FromOnChainGasSchedule trait">FromOnChainGasSchedule</a></div><div class="item-right docblock-short"><p>A trait for converting from a map representation of the on-chain gas schedule.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.InitialGasSchedule.html" title="aptos_gas::InitialGasSchedule trait">InitialGasSchedule</a></div><div class="item-right docblock-short"><p>A trait for defining an initial value to be used in the genesis.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ToOnChainGasSchedule.html" title="aptos_gas::ToOnChainGasSchedule trait">ToOnChainGasSchedule</a></div><div class="item-right docblock-short"><p>A trait for converting to a list of entries of the on-chain gas schedule.</p>
</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.AbstractValueSize.html" title="aptos_gas::AbstractValueSize type">AbstractValueSize</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.AbstractValueSizePerArg.html" title="aptos_gas::AbstractValueSizePerArg type">AbstractValueSizePerArg</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Fee.html" title="aptos_gas::Fee type">Fee</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.FeePerGasUnit.html" title="aptos_gas::FeePerGasUnit type">FeePerGasUnit</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Gas.html" title="aptos_gas::Gas type">Gas</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.GasScalingFactor.html" title="aptos_gas::GasScalingFactor type">GasScalingFactor</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.InternalGas.html" title="aptos_gas::InternalGas type">InternalGas</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.InternalGasPerAbstractValueUnit.html" title="aptos_gas::InternalGasPerAbstractValueUnit type">InternalGasPerAbstractValueUnit</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.InternalGasPerArg.html" title="aptos_gas::InternalGasPerArg type">InternalGasPerArg</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.InternalGasPerByte.html" title="aptos_gas::InternalGasPerByte type">InternalGasPerByte</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.NumArgs.html" title="aptos_gas::NumArgs type">NumArgs</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.NumBytes.html" title="aptos_gas::NumBytes type">NumBytes</a></div><div class="item-right docblock-short"></div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="aptos_gas" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.63.0 (4b91a6ea7 2022-08-08)" ></div>
</body></html>